<%- include("../layouts/admin/adminDashboard"); -%>

<section>
  <div class="container-fluid">
    <div class="row mt-5">
      <div class="col-xl-10 col-lg-9 col-md-8 ml-auto">
        <div class="row align-items-center">
            <div class="col-xl-12 col-12 mb-4 mb-xl-0">
            <h3 class="text-muted text-center my-3">All Posts List</h3>
            <table class="table table-striped bg-light text-center">
                <thead>
                
                 <tr class="text-muted">
                    <th>Post Title</th>
                    <th>Author</th>
                     <th>Created Date</th>
                    
                     <th></th>
                        
                  </tr>
                
                </thead>
                
                <tbody>
                <%  posts.forEach(function(post){ %>
                    <tr class="text-muted">
                    
                        <td><%=post.title%></td>
                        <td><%=post.author%></td>
                        <td><%=post.createdAt.toDateString()%></td>
                        
                        <td>
                            
                            <a href="/admin/post/edit/<%=post._id%>" data-toggle="tooltip" title="<h6>edit</h6>" data-html="true" >
                                <i class="fas fa-edit text-success mr-2" aria-hidden="true"></i>
                            </a>
                            
                            
                            <a href="/admin/post/delete/<%=post._id%>" data-toggle="tooltip" title="<h6>delete</h6>" data-html="true" onclick="return confirm('Are you sure to delete this post?');">
                            <i class="fas fa-trash-alt text-danger" aria-hidden="true">
                                                    
                            </i>
                            </a>
                                                                
                        </td>
                        
                    </tr>
                    <% }) %>
                </tbody>
            </table>
            <!-- Pagination -->
            <nav>
                <ul class="pagination justify-content-center">
                    <% if (currentPage != 1 && previousPage != 1) { %> 
                    <li class="page-item">
                    <a class="page-link py-2 px-3" href="/admin/allPosts/?page=1">
                    <span>&laquo;</span></a>
                </li>
                <% } %>
                <% if (hasPreviousPage) { %> 
                <li class="page-item">
                    <a class="page-link py-2 px-3" href="/admin/allPosts/?page=<%= previousPage %>"><%= previousPage %></a>
                </li>
                <% } %>
                <li class="page-item active">
                    <a class="page-link py-2 px-3" href="/admin/allPosts/?page=<%= currentPage %>"><%= currentPage %></a>
                </li>
                <% if (hasNextPage) { %> 
                <li class="page-item">
                    <a class="page-link py-2 px-3" href="/admin/allPosts/?page=<%= nextPage %>"><%= nextPage %></a>
                </li>
                <% } %>
                <li class="page-item">
                <% if (lastPage !== currentPage && nextPage !== lastPage) { %> 
                    <a class="page-link py-2 px-3" href="/admin/allPosts/?page=<%= lastPage %>">
                    <span>&raquo;</span>
                    </a>
                </li>
                <% } %>
                </ul>
            </nav>                  
            <!-- end of pagination -->

            </div>
            
          </div>
        </div>
      </div>
    </div>
 </section>
<%- include("../layouts/admin/adminFooter"); -%>